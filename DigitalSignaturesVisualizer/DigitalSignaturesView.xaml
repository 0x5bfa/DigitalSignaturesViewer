<UserControl
	x:Class="DigitalSignaturesVisualizer.DigitalSignaturesView"
	xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
	xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
	xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
	xmlns:local="using:DigitalSignaturesVisualizer"
	xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
	xmlns:wctcontrols="using:CommunityToolkit.WinUI.Controls"
	xmlns:wctconverters="using:CommunityToolkit.WinUI.Converters"
	AllowDrop="True"
	DragOver="Grid_DragOver"
	Drop="DigitalSignaturesView_Drop"
	mc:Ignorable="d">

	<UserControl.Resources>
		<ResourceDictionary>

			<x:Double x:Key="SettingsCardWrapThreshold">300</x:Double>
			<x:Double x:Key="SettingsCardWrapNoIconThreshold">180</x:Double>

			<wctconverters:BoolNegationConverter x:Key="BoolNegationConverter" />

		</ResourceDictionary>
	</UserControl.Resources>

	<Grid>
		<Grid.RowDefinitions>
			<RowDefinition Height="Auto" />
			<RowDefinition Height="*" />
		</Grid.RowDefinitions>

		<TitleBar
			Title="Digital signatures visualizer"
			Grid.Row="0"
			Height="40"
			BackRequested="TitleBar_BackRequested"
			IsBackButtonVisible="{x:Bind ViewModel.PathIsSet, Mode=OneWay}"
			Subtitle="DEV">
			<TitleBar.IconSource>
				<FontIconSource FontSize="14" Glyph="&#xEA3A;" />
			</TitleBar.IconSource>
		</TitleBar>

		<ScrollViewer Grid.Row="1">

			<Grid>

				<StackPanel
					x:Name="DropIndicatorView"
					HorizontalAlignment="Center"
					VerticalAlignment="Center"
					x:Load="{x:Bind ViewModel.PathIsSet, Converter={StaticResource BoolNegationConverter}, Mode=OneWay}"
					Spacing="12">
					<FontIcon
						FontSize="64"
						Foreground="{ThemeResource TextFillColorTertiaryBrush}"
						Glyph="&#xE8FF;" />
					<TextBlock Foreground="{ThemeResource TextFillColorSecondaryBrush}" Text="Drop an executable here" />
				</StackPanel>

				<StackPanel
					x:Name="DigitalSinaturesView"
					Margin="12"
					x:Load="{x:Bind ViewModel.PathIsSet, Mode=OneWay}"
					Spacing="4">
					<wctcontrols:SettingsExpander Description="Sat, Sep 30, 2023 10:47:01 AM" Header="Microsoft Corporation">
						<wctcontrols:SettingsExpander.HeaderIcon>
							<FontIcon
								Foreground="{ThemeResource SystemFillColorSuccessBrush}"
								Glyph="&#xE930;"
								ToolTipService.ToolTip="This digital signature is OK." />
						</wctcontrols:SettingsExpander.HeaderIcon>
						<Button Content="Details" />
						<wctcontrols:SettingsExpander.Items>
							<wctcontrols:SettingsCard ContentAlignment="Left">
								<StackPanel>
									<TextBlock
										Foreground="{ThemeResource TextFillColorSecondaryBrush}"
										Style="{StaticResource CaptionTextBlockStyle}"
										Text="E-mail:" />
									<TextBlock Text="example@microsoft.com" />
									<TextBlock
										Margin="0,8,0,0"
										Foreground="{ThemeResource TextFillColorSecondaryBrush}"
										Style="{StaticResource CaptionTextBlockStyle}"
										Text="Valid from:" />
									<TextBlock Text="Sat, Sep 30, 2023 10:47:01 AM" />
									<TextBlock
										Margin="0,8,0,0"
										Foreground="{ThemeResource TextFillColorSecondaryBrush}"
										Style="{StaticResource CaptionTextBlockStyle}"
										Text="Valid to:" />
									<TextBlock Text="Sat, Sep 30, 2023 10:47:01 AM" />
								</StackPanel>
							</wctcontrols:SettingsCard>
							<wctcontrols:SettingsCard
								Description="Sat, Sep 30, 2023 10:47:01 AM"
								Header="Microsoft Time-Stamp Service"
								IsClickEnabled="True" />
						</wctcontrols:SettingsExpander.Items>
					</wctcontrols:SettingsExpander>
					<wctcontrols:SettingsExpander Description="Sat, Sep 30, 2023 10:47:01 AM" Header="Microsoft Corporation">
						<wctcontrols:SettingsExpander.HeaderIcon>
							<FontIcon
								Foreground="{ThemeResource SystemFillColorCriticalBrush}"
								Glyph="&#xEA39;"
								ToolTipService.ToolTip="This digital signature is not valid." />
						</wctcontrols:SettingsExpander.HeaderIcon>
						<Button Content="Details" />
						<wctcontrols:SettingsExpander.Items>
							<wctcontrols:SettingsCard ContentAlignment="Left">
								<StackPanel Margin="0,0,0,0">
									<TextBlock
										Foreground="{ThemeResource TextFillColorSecondaryBrush}"
										Style="{StaticResource CaptionTextBlockStyle}"
										Text="E-mail:" />
									<TextBlock Text="example@microsoft.com" />
									<TextBlock
										Margin="0,8,0,0"
										Foreground="{ThemeResource TextFillColorSecondaryBrush}"
										Style="{StaticResource CaptionTextBlockStyle}"
										Text="Valid from:" />
									<TextBlock Text="Sat, Sep 30, 2023 10:47:01 AM" />
									<TextBlock
										Margin="0,8,0,0"
										Foreground="{ThemeResource TextFillColorSecondaryBrush}"
										Style="{StaticResource CaptionTextBlockStyle}"
										Text="Valid to:" />
									<TextBlock Text="Sat, Sep 30, 2023 10:47:01 AM" />
								</StackPanel>
							</wctcontrols:SettingsCard>
							<wctcontrols:SettingsCard
								Description="Sat, Sep 30, 2023 10:47:01 AM"
								Header="Microsoft Time-Stamp Service"
								IsClickEnabled="True" />
						</wctcontrols:SettingsExpander.Items>
					</wctcontrols:SettingsExpander>
				</StackPanel>
			</Grid>

		</ScrollViewer>

	</Grid>
</UserControl>
